<script>
  function toJalali(gy, gm, gd) {
    var g_d_m = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];
    var gy2 = (gm > 2) ? (gy + 1) : gy;
    var days = 355666 + (365 * gy) + parseInt((gy2 + 3) / 4) - parseInt((gy2 + 99) / 100) + parseInt((gy2 + 399) / 400) + gd + g_d_m[gm - 1];
    var jy = -1595 + (33 * parseInt(days / 12053));
    days %= 12053;
    jy += 4 * parseInt(days / 1461);
    days %= 1461;
    if (days > 365) {
      jy += parseInt((days - 1) / 365);
      days = (days - 1) % 365;
    }
    var jm = (days < 186) ? 1 + parseInt(days / 31) : 7 + parseInt((days - 186) / 30);
    var jd = 1 + ((days < 186) ? (days % 31) : ((days - 186) % 30));
    return [jy, jm, jd];
  }

  function getFormattedPersianDate() {
    const now = new Date();
    const days = ['ÛŒÚ©Ø´Ù†Ø¨Ù‡', 'Ø¯ÙˆØ´Ù†Ø¨Ù‡', 'Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡', 'Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡', 'Ù¾Ù†Ø¬Ø´Ù†Ø¨Ù‡', 'Ø¬Ù…Ø¹Ù‡', 'Ø´Ù†Ø¨Ù‡'];
    const months = ['ÙØ±ÙˆØ±Ø¯ÛŒÙ†', 'Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª', 'Ø®Ø±Ø¯Ø§Ø¯', 'ØªÛŒØ±', 'Ù…Ø±Ø¯Ø§Ø¯', 'Ø´Ù‡Ø±ÛŒÙˆØ±', 'Ù…Ù‡Ø±', 'Ø¢Ø¨Ø§Ù†', 'Ø¢Ø°Ø±', 'Ø¯ÛŒ', 'Ø¨Ù‡Ù…Ù†', 'Ø§Ø³ÙÙ†Ø¯'];
    const stickers = ['ðŸŒž', 'ðŸŒœ', 'ðŸŒ›', 'ðŸŒš', 'ðŸŒ', 'â­', 'ðŸŒŸ'];

    const [jy, jm, jd] = toJalali(now.getFullYear(), now.getMonth() + 1, now.getDate());
    const persianDayIndex = (now.getDay() + 6) % 7;
    const persianWeekday = days[persianDayIndex];
    return `${persianWeekday} ${jd} ${months[jm - 1]} ${jy} ${stickers[persianDayIndex]}`;
  }

  function logResult(success, marketerName, spotName) {
    const resultDiv = document.getElementById("resultLog");
    const persianDate = getFormattedPersianDate();
    const message = success
      ? `âœ… Ø«Ø¨Øª Ù…ÙˆÙÙ‚ Ø­Ø¶ÙˆØ± Ø¯Ø± Ø§Ø³Ù¾Ø§Øª "${spotName}" Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ "${marketerName}"`
      : `âŒ Ø«Ø¨Øª Ù†Ø§Ù…ÙˆÙ‚ Ø­Ø¶ÙˆØ± Ø¯Ø± Ø§Ø³Ù¾Ø§Øª "${spotName}" Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ "${marketerName}";

    const p = document.createElement("p");
    p.textContent = message;
    p.style.color = success ? "green" : "red";
    resultDiv.appendChild(p);
  }

  // Ø¨Ø±Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ ØªØ³Øª
  // Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø¯Ø± Ø¬Ø§Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø§Ø³Ù¾Ø§Øªâ€ŒÙ‡Ø§ Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´Ù† Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ø±Ùˆ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ú©Ù†ÛŒ:
  // logResult(true, "Ø¹Ù„ÛŒØ±Ø¶Ø§ Ø§Ø­Ù…Ø¯ÛŒ", "Ù…ÛŒØ¯Ø§Ù† Ø¢Ø²Ø§Ø¯ÛŒ");
  // logResult(false, "Ø³Ø­Ø± Ø±Ø¶Ø§ÛŒÛŒ", "ÙˆÙ„ÛŒØ¹ØµØ±");

  // Ù…Ø«Ø§Ù„ ØªØ³Øª Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ Ø´Ø¯Ù† Ø®ÙˆØ¯Ú©Ø§Ø±:
  window.onload = function() {
    logResult(true, "Ø¹Ù„ÛŒØ±Ø¶Ø§ Ø§Ø­Ù…Ø¯ÛŒ", "Ù…ÛŒØ¯Ø§Ù† Ø¢Ø²Ø§Ø¯ÛŒ");
    logResult(false, "Ø³Ø­Ø± Ø±Ø¶Ø§ÛŒÛŒ", "ÙˆÙ„ÛŒØ¹ØµØ±");
  };
</script>

<!-- Ù†Ø§Ø­ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ -->
<div id="resultLog" style="font-family: sans-serif; margin-top: 20px;"></div>
